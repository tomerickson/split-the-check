<h1>
  {{title}}
</h1>
<md-toolbar color="primary">
  <span>Split The Check</span>
</md-toolbar>
<div id="header">
  <p id="title">
    <a href="http://www.northrup.org/photos/prairie-dogs/" target="_blank">
      <img id="prairiedog" title="Prairie dog standing" src="./app/images/prairiedog.jpg">
    </a>Split The Check
  </p>
  <p>How often has this happened to you:</p>
  <p>
    It's 11:30 in the morning, and your stomach alarm goes off.&ensp;When you make the mistake of saying "I'm hungry"
    heads start popping up above the cubicle walls like prairie dogs at a coyote convention.
  </p>
  <p>
    Pretty soon your co-workers are swarming your cube, waving menus and twenty-dollar bills, shouting orders, condiment
    choices, special dietary requirements, and food preparation instructions.&ensp;Since you opened your mouth first,
    you're elected to take
    the delivery order, account for the money, phone it in, get all the condiments and preparation instructions
    straight, and make change for all the twenties.&ensp;And what thanks do you get for your efforts?&ensp;Harry orders
    a 4.75 burger, drops
    a five, winks and says "Forget the change."
  </p>
  <p>
    When it's all over you're out five bucks because nobody accounted for tax and tip.</p>
  <p>You can't make your co-workers any less boorish, but you can make your life easier by using the "Split the Check"
    lunch order form below.</p>
  <hr>
</div>
<form #f="ngForm" (ngSubmit)="submitForm()">
  <div class="container">
    <!-- Instructions -->
    <div class="row">
      <div class="col-xs-1"></div>
      <div class="col-xs-10">
        <ul>
          <li>
            Enter your local sales tax percent, tip percent, and delivery charge if applicable.
          </li>
          <li>
            You can calculate the tip on gross (including tax) or net (excluding tax), depending on how generous you
            feel.
          </li>
          <li>The delivery charge is allocated in proportion to the dollar value of each order.</li>
          <li>You can give change to the nearest penny, nickel, dime, quarter or dollar.</li>
        </ul>
      </div>
    </div>
    <div class="row" id="prompts">
      <div class="col-xs-1">
        <!-- spacer -->
      </div>
      <div class="col">
        <div class="row">
          <div class="col"><label class="text-xs-right" for="txtTax">Sales Tax Percent:</label>
          </div>
          <div class="col">
            <input class="form-control" id="txtTax" type="text" name="salesTaxPercent" tabindex="0"
                   [ngModel]="(settings$|async)?.salesTaxPercent"
                   (ngModelChange)="item.value=$event"
                   myCurrencyFormatter>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <label class="text-xs-right" for="txtTip">Tip Percent:</label>
          </div>
          <div class="col">
            <input id="txtTip" class="form-control" type="text" name="tipPercent" tabindex="0"
                   [ngModel]="(settings$|async)?.tipPercent"
                   (ngModelChange)="item.value=$event" myCurrencyFormatter>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <label class="text-xs-right" for="selTipBasis">Tip Basis:</label>
          </div>
          <div class="col">
            <select id="selTipBasis" class="form-control" name="tipBasis"
                    [ngModel]="(settings$|async)?.tipBasis"
                    (ngModelChange)="this.UpdateTipBasis($event)">
              <option *ngFor="let basis of tipBases" [value]="basis.id" [label]="basis.description"></option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <label class="text-xs-right" for="txtDelivery">Delivery:</label>
          </div>
          <div class="col">
            <input class="form-control" id="txtDelivery" type="text" name="delivery"
                   [ngModel]="(settings$|async)?.delivery"
                   (ngModelChange)="item.value=$event" myCurrencyFormatter>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <label class="text-xs-right" for="selChange">Change Basis:</label>
          </div>
          <div class="col">
            <md-select class="form-control" id="selChange" formControlName="change"
                    [ngModel]="(settings$|async)?.changeBasis"
                    (ngModelChange)="UpdateChangeBasis()">
              <md-option *ngFor="let opt of changeBases" [value]="opt.id">{{opt.description}}</md-option>
            </md-select>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
<hr>
<div class="container">
  <div class="row">
    <order-list-outlet class="col-sm-8"></order-list-outlet>
    <!-- Running totals -->
    <order-totals class="col-sm-4"></order-totals>
  </div>
</div>
