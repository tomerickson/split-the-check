<md-list-item id="order">
  <md-expansion-panel [hideToggle]="false" expanded="true">
    <md-expansion-panel-header>
      <md-panel-title>
        <label>{{"Order " + (index+1)}}</label>
      </md-panel-title>
      <md-panel-description>
        <md-table>
          <md-row>
            <md-cell>Ordered by: {{order.name}}</md-cell>
            <md-cell>Items: {{count}}</md-cell>
            <md-cell>Total: {{total | number:'1.2-2'}}</md-cell>
            <md-cell>Paid: {{order.paid | number:'1.2-2'}}</md-cell>
            <md-cell><span>Over / Short: </span><span  [class.short]="overShort > 0">{{overShort | number:'1.2-2'}}</span></md-cell>
          </md-row>
        </md-table>
      </md-panel-description>
    </md-expansion-panel-header>
    <md-card class="mat-elevation-z0">
      <form name="order-form">
        <md-grid-list cols="2" rowHeight="5:1">
          <md-grid-tile>
            <md-form-field>
              <md-placeholder>Ordered by:</md-placeholder>
              <input mdInput
                     type="text"
                     name="name"
                     id="input-order-name"
                     [ngModel]="order.name"
                     (change)="updateName($event)">
            </md-form-field>
          </md-grid-tile>
          <md-grid-tile>
            <md-form-field>
              <md-placeholder>Payment:</md-placeholder>
              <input mdInput
                     id="input-paid"
                     type="text"
                     name="paid"
                     [ngModel]="(order.paid.toFixed(2))"
                     (focus)="selectPaid($event)"
                     (change)="updatePaid($event)">
            </md-form-field>
          </md-grid-tile>
        </md-grid-list>
      </form>
      <md-grid-list cols="7" rowHeight="3:1">
        <md-grid-tile>
          Subtotal
        </md-grid-tile>
        <md-grid-tile>
          Tax
        </md-grid-tile>
        <md-grid-tile>
          Tip
        </md-grid-tile>
        <md-grid-tile>
          Delivery
        </md-grid-tile>
        <md-grid-tile>
          Total
        </md-grid-tile>
        <md-grid-tile>
          Paid
        </md-grid-tile>
        <md-grid-tile>
          Over / Short
        </md-grid-tile>
        <md-grid-tile>
          {{subtotal | number:'1.2-2'}}
        </md-grid-tile>
        <md-grid-tile>
          {{tax | number:'1.2-2'}}
        </md-grid-tile>
        <md-grid-tile>
          {{tip | number:'1.2-2'}}
        </md-grid-tile>
        <md-grid-tile>
          {{delivery | number:'1.2-2'}}
        </md-grid-tile>
        <md-grid-tile>
          {{total | number:'1.2-2'}}
        </md-grid-tile>
        <md-grid-tile>
          {{order.paid | number:'1.2-2'}}
        </md-grid-tile>
        <md-grid-tile [class.short]="overShort > 0">
          {{overShort | number:'1.2-2'}}
        </md-grid-tile>
      </md-grid-list>
      <app-item-list-outlet [orderId]="orderId"></app-item-list-outlet>
    </md-card>
    <md-action-row>
      <button md-icon-button>
      <md-icon
      class="remove"
        (click)="removeOrder()"
        title="Remove this order.">remove_circle</md-icon>
      </button>
    </md-action-row>
  </md-expansion-panel>
</md-list-item>
<md-divider></md-divider>
